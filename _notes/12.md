---
layout: note
title: "задание 12: исполнители"
---
## классическая задача на строки

[условие](https://education.yandex.ru/ege/task/484d68ed-2e90-4596-a371-e6e4b49c443c)

```
'''
ПОКА нашлось (666) ИЛИ нашлось (9909) ИЛИ нашлось (66)
    заменить (666, 999)
    заменить (9909, 6)
    заменить (66, 0)
КОНЕЦ ПОКА
'''

answer = 0
for n in range(4, 10000):
    s = '9' + '6' * n
    while '666' in s or '9909' in s or '66' in s:
        s = s.replace('666', '999', 1)
        s = s.replace('9909', '6', 1)
        s = s.replace('66', '0', 1)
    if len(s) == 10:
        answer = max(answer, n)
print(answer)
```

## ещё одна классическая задача на строки
[условие](https://education.yandex.ru/ege/task/99da765f-ae28-4087-9286-3b636b34b035)
```
'''
ПОКА нашлось (25) ИЛИ нашлось (355) ИЛИ нашлось (555)
    ЕСЛИ нашлось (25)
        ТО заменить (25, 5)
    КОНЕЦ ЕСЛИ
    ЕСЛИ нашлось (355)
        ТО заменить (355, 52)
    КОНЕЦ ЕСЛИ
    ЕСЛИ нашлось (555)
        ТО заменить (555, 3)
    КОНЕЦ ЕСЛИ
КОНЕЦ ПОКА
'''


for n in range(4, 10000):
    s = '2' + '5' * n
    while '25' in s or '355' in s or '555' in s:
        s = s.replace('25', '5', 1)
        s = s.replace('355', '52', 1)
        s = s.replace('555', '3', 1)
    if s.count('3') == 2:
        print(n)
        break
```

## и ещё две классические
[условие](https://education.yandex.ru/ege/task/0dae60c5-8bfc-40e6-9913-2395abbd6a99)

```
'''
ПОКА нашлось (25) ИЛИ нашлось (355) ИЛИ нашлось (555)
    ЕСЛИ нашлось (25)
        ТО заменить (25, 5)
    КОНЕЦ ЕСЛИ
    ЕСЛИ нашлось (355)
        ТО заменить (355, 52)
    КОНЕЦ ЕСЛИ
    ЕСЛИ нашлось (555)
        ТО заменить (555, 3)
    КОНЕЦ ЕСЛИ
КОНЕЦ ПОКА
'''

answer = 0
for n in range(4, 10000):
    s = '2' + '5' * n
    while '25' in s or '355' in s or '555' in s:
        s = s.replace('25', '5', 1)
        s = s.replace('355', '52', 1)
        s = s.replace('555', '3', 1)
    current_sum = 0
    for digit in s:
        current_sum += int(digit)
    if current_sum == 64:
        answer = max(answer, n)
print(answer)
```

[условие](https://education.yandex.ru/ege/task/50343d35-5e5e-4947-8e25-107f7693eecd)
```
'''
ПОКА нашлось (5454) ИЛИ нашлось (554) ИЛИ нашлось (444)
    ЕСЛИ нашлось (5454)
        ТО заменить (5454, 2)
        ИНАЧЕ заменить (554, 45)
    КОНЕЦ ЕСЛИ
    заменить (444, 54)
КОНЕЦ ПОКА
'''

s = '5' + 57 * '4'
while '5454' in s or '554' in s or '444' in s:
    if '5454' in s:
        s = s.replace('5454', '2', 1)
    else:
        s = s.replace('554', '45', 1)
    s = s.replace('444', '54', 1)
print(s)
```

## задача про сортировку и позиции цифр
[условие](https://education.yandex.ru/ege/task/b00a1ede-851c-48c8-841e-510e7bf2fb4b)
```
# https://education.yandex.ru/ege/task/b00a1ede-851c-48c8-841e-510e7bf2fb4b

s1 = '444477779999'
s2 = '497794497497'
s3 = '794794497794'

def f(s):
    while '47' in s or '49' in s or '97' in s:
        s = s.replace('47', '74', 1)
        s = s.replace('49', '94', 1)
        s = s.replace('97', '79', 1)
    return s

print(f(s1))
print(f(s2))
print(f(s3))
'''
777799994444
777799994444
777799994444
'''
```

## задача про анализ реплейсов и сумму цифр
[условие](https://education.yandex.ru/ege/task/a8fd6036-c7b3-42b5-870c-d3f3eb6335bd)
```
'''
ПОКА нашлось(23) ИЛИ нашлось(12) ИЛИ нашлось(32) 
  ЕСЛИ нашлось(12)
    ТО заменить(12, 21)
  КОНЕЦ ЕСЛИ
  ЕСЛИ нашлось(32)
    ТО заменить(32, 1)
  КОНЕЦ ЕСЛИ
  ЕСЛИ нашлось(23)
    ТО заменить(23, 2)
  КОНЕЦ ЕСЛИ
КОНЕЦ ПОКА
'''

'''
На вход приведённой выше программе поступает строка, 
содержащая 40 цифр 1, 40 цифр 2 и n цифр 3, 
расположенных в произвольном порядке.
'''

s1 = '1232132211' # 2 тройки # 22111111
s11 = '12321322113' # 3 тройки # 221111113
s2 = '312321322131' # 4 тройки # 211111131
s3 = '31232331322131' # 6 троек # 111111131

big_s = 40 * '1' + 40 * '2'

def f(s):
    while '23' in s or '12' in s or '32' in s:
        s = s.replace('12', '21', 1)
        s = s.replace('32', '1', 1)
        s = s.replace('23', '2', 1)
    return s

def sum_digits(s):
    result = 0
    for digit in s:
        result += int(digit)
    return result

print(f(s1))
print(f(s11))
print(f(s2))
print(f(s3))
'''
22111111
211111131
111111131
'''

print(sum_digits(f(big_s)))
```

## задача про перебор позиции для цифры
[условие](https://education.yandex.ru/ege/task/8f46176e-42b7-4a84-9ccd-55a8f7a35e5b)
```
# https://education.yandex.ru/ege/task/8f46176e-42b7-4a84-9ccd-55a8f7a35e5b

'''
ПОКА нашлось(111) или нашлось(222)
   ЕСЛИ нашлось(111) 
      ТО заменить(111, 22)
      ИНАЧЕ заменить(222, 11)
   КОНЕЦ ЕСЛИ
КОНЕЦ ПОКА
'''

def f(s):
    while '111' in s or '222' in s:
        if '111' in s:
            s = s.replace('111', '22', 1)
        else:
            s = s.replace('222', '11', 1)
    return s

answer = ''
for pos in range(204):
    s = '1' * pos + '2' + '1' * (203 - pos)
    result = f(s)
    if len(result) > len(answer):
        answer = result
print(answer) # 2212122
```

## анализ замен, максимизация количества нулей
[условие](https://education.yandex.ru/ege/task/267223b3-d9e8-4216-beb4-d30ee83764e8)
```
# https://education.yandex.ru/ege/task/267223b3-d9e8-4216-beb4-d30ee83764e8

'''
ПОКА нашлось(10) ИЛИ нашлось(20)
   ЕСЛИ нашлось(20)
      ТО заменить(20,00)
      ИНАЧЕ заменить(10,200)
   КОНЕЦ ЕСЛИ
КОНЕЦ ПОКА
'''

def f(s):
    while '10' in s or '20' in s:
        if '20' in s:
            s = s.replace('20', '00', 1)
        else:
            s = s.replace('10', '200', 1)
    return s

def count_zeros(s):
    count = 0
    for digit in s:
        if digit == '0':
            count += 1
    return count

# '10' -> '200' -> '000' (1 ноль -> 3 ноля) (лучшая замена, самая приоритетная)
# '20' -> '00' (1 ноль -> 2 ноля) (хорошая замена, менее приоритетная)
# 19 цифр 0, 13 цифр 1 и 17 цифр 2
# 13 пар '10' => осталось 17 цифр 2 и 6 цифр 0
# 6 пар '20' => осталось 11 цифр 2
# поместим 11 цифр 2 в начало строки
s = 11 * '2' + 13 * '10' + 6 * '20'
s1 = 11 * '2' + 6 * '20' + 13 * '10'

print(count_zeros(f(s)))
print(count_zeros(f(s1)))


print(f('120022201021'))
print(f('1200222'))
print(f('000000'))
print(f('111111'))
print(f('222222'))

'''
00000000000021
00000222
000000
111111
222222
'''
```

## задача про каретку
![Untitled]({{ site.baseurl }}{% link /assets/12/karetka.png %})
```
s = '>' + 10 * '1' + 20 * '2' + 30 * '3'

while '>1' in s or '>2' in s or '>3' in s:
    if '>1' in s:
        s = s.replace('>1', '22>', 1)
        print(s)
    if '>2' in s:
        s = s.replace('>2', '2>', 1)
        print(s)
    if '>3' in s:
        s = s.replace('>3', '1>', 1)
        print(s)

print(sum(int(d) for d in s if d != '>'))
# 110
```

## X единиц, Y двоек, Z троек
![Untitled]({{ site.baseurl }}{% link /assets/12/xyz.png %})
```
# 01 > 2302 > 2310 (231)
# 02 > 10 (1)
# 03 > 201 > 22310 (2231)

# X единиц, Y двоек, Z троек (исходная строка)
# 51 единица, 29 двоек, 23 тройки
# Всего единиц 51 = X + Y + Z
# Всего двоек 29 = X + 2Z
# Всего троек 23 = X + Z
# Z = ?
# Z = 6 (вычли третье уравнение из второго)

for x in range(1, 60):
    for y in range(1, 60):
        for z in range(1, 60):
            s = '0' + x * '1' + y * '2' + z * '3'
            while '01' in s or '02' in s or '03' in s:
                if '01' in s:
                    s = s.replace('01', '2302', 1)
                if '02' in s:
                    s = s.replace('02', '10', 1)
                if '03' in s:
                    s = s.replace('03', '201', 1)
            if s.count('1') == 51 and s.count('2') == 29 and s.count('3') == 23:
                print(z) # 6
```

## максимизация количества единиц
условие: 30 единиц, 30 двоек, 30 троек, идущих в произвольном порядке
алгоритм:
```
НАЧАЛО
ПОКА нашлось(31) ИЛИ нашлось(32)
	ЕСЛИ нашлось(32)
		ТО заменить (32, 311)
		ИНАЧЕ заменить (31, 11)
	КОНЕЦ ЕСЛИ
КОНЕЦ ПОКА
КОНЕЦ
```
```
# 32 -> 311 -> 111 (хорошая замена для максимизации единиц) 
# 31 -> 11  
# 30 единиц, 30 двоек, 30 троек 
s = '32' * 30 + '1' * 30 
# 30 * '32' -> 90 * '1' 
# 90 + 30 = 120
```


## чертёжник, задача про нулевое смещение
```
Сместиться на (-3,24)
Повтори N раз
	Сместиться на (91, b)
	Сместиться на (a, 54)
конец
Сместиться на (-15,24)
```
Сколько существует натуральных значений N, для которых найдутся такие значения чисел $a$ и $b$, что после выполнения программы Чертежник возвратится в исходную точку?

```
# X, Y
# dx = -3 + N * (91 + a) - 15  (изменение по X)
# dy = 24 + N * (b + 54) + 24  (изменение по Y)
# в исходную точку -> оба изменения = 0

# -3 + N * (91 + a) - 15 = 0
# 24 + N * (b + 54) + 24 = 0
# сколько решений имеет система? (то же самое, что количество подходящих N)
# N * (91 + a) = 18
# N * (b + 54) = -48

# N = 18 / (91 + a)
# N = -48 / (b + 54)


# N >= 1, A, B целые
# N - обязательно делитель 18 (1, 2, 3, 6, 9, 18)
# N - обязательно делитель -48 (1, 2, 3, 6, 8, ...)
# N = 1, 2, 3, 6 (4 значения)
```


## чертежник, задача про смещение 
Чертежник находился в начале координат. Ему был дан для исполнения следующий алгоритм:
```
Сместиться на (-3,-5)
Повтори N раза
	Сместиться на (2, b)
	Сместиться на (8, -12)
конец
Сместиться на (2, 3)
```

Найдите целое значение $b$, для которого после выполнения программы Чертёжник окажется в точке $(59 ; 46)$.
```
# X, Y
# dx = -3 + N * (2 + 8) + 2 = 59
# dy = -5 + N * (b - 12) + 3 = 46

# 10 N = 60 => N = 6
# N * (b - 12) = 48
# b - 12 = 8
# b = 20
```